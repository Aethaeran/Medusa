!function t(o,e,r){function s(a,i){if(!e[a]){if(!o[a]){var p="function"==typeof require&&require;if(!i&&p)return p(a,!0);if(n)return n(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[a]={exports:{}};o[a][0].call(l.exports,function(t){var e=o[a][1][t];return s(e||t)},l,l.exports,t,o,e,r)}return e[a].exports}for(var n="function"==typeof require&&require,a=0;a<r.length;a++)s(r[a]);return s}({1:[function(t,o,e){"use strict";function r(t){return decodeURIComponent(t.replace(/\+/g," "))}var s=Object.prototype.hasOwnProperty;e.stringify=function(t,o){var e=[];"string"!=typeof(o=o||"")&&(o="?");for(var r in t)s.call(t,r)&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.length?o+e.join("&"):""},e.parse=function(t){for(var o,e=/([^=?&]+)=?([^&]*)/g,s={};o=e.exec(t);s[r(o[1])]=r(o[2]));return s}},{}],2:[function(t,o,e){"use strict";o.exports=function(t,o){if(o=o.split(":")[0],!(t=+t))return!1;switch(o){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}],3:[function(t,o,e){(function(e){"use strict";function r(t){var o,r={},s=typeof(t=t||e.location||{});if("blob:"===t.protocol)r=new n(unescape(t.pathname),{});else if("string"===s){r=new n(t,{});for(o in f)delete r[o]}else if("object"===s){for(o in t)o in f||(r[o]=t[o]);void 0===r.slashes&&(r.slashes=c.test(t.href))}return r}function s(t){var o=p.exec(t);return{protocol:o[1]?o[1].toLowerCase():"",slashes:!!o[2],rest:o[3]}}function n(t,o,e){if(!(this instanceof n))return new n(t,o,e);var p,c,f,u,h,y,d=l.slice(),g=typeof o,w=this,m=0;for("object"!==g&&"string"!==g&&(e=o,o=null),e&&"function"!=typeof e&&(e=i.parse),o=r(o),p=!(c=s(t||"")).protocol&&!c.slashes,w.slashes=c.slashes||p&&o.slashes,w.protocol=c.protocol||o.protocol||"",t=c.rest,c.slashes||(d[2]=[/(.*)/,"pathname"]);m<d.length;m++)f=(u=d[m])[0],y=u[1],f!=f?w[y]=t:"string"==typeof f?~(h=t.indexOf(f))&&("number"==typeof u[2]?(w[y]=t.slice(0,h),t=t.slice(h+u[2])):(w[y]=t.slice(h),t=t.slice(0,h))):(h=f.exec(t))&&(w[y]=h[1],t=t.slice(0,h.index)),w[y]=w[y]||(p&&u[3]?o[y]||"":""),u[4]&&(w[y]=w[y].toLowerCase());e&&(w.query=e(w.query)),p&&o.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==o.pathname)&&(w.pathname=function(t,o){for(var e=(o||"/").split("/").slice(0,-1).concat(t.split("/")),r=e.length,s=e[r-1],n=!1,a=0;r--;)"."===e[r]?e.splice(r,1):".."===e[r]?(e.splice(r,1),a++):a&&(0===r&&(n=!0),e.splice(r,1),a--);return n&&e.unshift(""),"."!==s&&".."!==s||e.push(""),e.join("/")}(w.pathname,o.pathname)),a(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(u=w.auth.split(":"),w.username=u[0]||"",w.password=u[1]||""),w.origin=w.protocol&&w.host&&"file:"!==w.protocol?w.protocol+"//"+w.host:"null",w.href=w.toString()}var a=t("requires-port"),i=t("querystringify"),p=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,c=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,l=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};n.prototype={set:function(t,o,e){var r=this;switch(t){case"query":"string"==typeof o&&o.length&&(o=(e||i.parse)(o)),r[t]=o;break;case"port":r[t]=o,a(o,r.protocol)?o&&(r.host=r.hostname+":"+o):(r.host=r.hostname,r[t]="");break;case"hostname":r[t]=o,r.port&&(o+=":"+r.port),r.host=o;break;case"host":r[t]=o,/:\d+$/.test(o)?(o=o.split(":"),r.port=o.pop(),r.hostname=o.join(":")):(r.hostname=o,r.port="");break;case"protocol":r.protocol=o.toLowerCase(),r.slashes=!e;break;case"pathname":case"hash":if(o){var s="pathname"===t?"/":"#";r[t]=o.charAt(0)!==s?s+o:o}else r[t]=o;break;default:r[t]=o}for(var n=0;n<l.length;n++){var p=l[n];p[4]&&(r[p[1]]=r[p[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(t){t&&"function"==typeof t||(t=i.stringify);var o,e=this,r=e.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var s=r+(e.slashes?"//":"");return e.username&&(s+=e.username,e.password&&(s+=":"+e.password),s+="@"),s+=e.host+e.pathname,(o="object"==typeof e.query?t(e.query):e.query)&&(s+="?"!==o.charAt(0)?"?"+o:o),e.hash&&(s+=e.hash),s}},n.extractProtocol=s,n.location=r,n.qs=i,o.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:1,"requires-port":2}],4:[function(t,o,e){const r=t("url-parse");PNotify.prototype.options.addclass="stack-bottomright",PNotify.prototype.options.buttons.closer_hover=!1,PNotify.prototype.options.delay=5e3,PNotify.prototype.options.desktop={desktop:!0,icon:"images/ico/favicon-120.png"},PNotify.prototype.options.hide=!0,PNotify.prototype.options.history=!1,PNotify.prototype.options.shadow=!1,PNotify.prototype.options.stack={dir1:"up",dir2:"left",firstpos1:25,firstpos2:25},PNotify.prototype.options.styling="jqueryui",PNotify.prototype.options.width="340px",PNotify.desktop.permission();const s=(t,o,e,r)=>{new PNotify({type:t,title:o,desktop:{tag:r},text:String(e).replace(/<br[\s/]*(?:\s[^>]*)?>/gi,"\n").replace(/<[/]?b(?:\s[^>]*)?>/gi,"*").replace(/<i(?:\s[^>]*)?>/gi,"[").replace(/<[/]i>/gi,"]").replace(/<(?:[/]?ul|\/li)(?:\s[^>]*)?>/gi,"").replace(/<li(?:\s[^>]*)?>/gi,"\n* ")})};window.addEventListener("build",t=>{"medusa config loaded"===t.detail&&(async()=>{const t="https:"===window.location.protocol?"wss:":"ws:",o=new r("ws/ui",$("base").attr("href").replace(window.location.protocol,t)),e=new WebSocket(o.toString());e.onmessage=(t=>{let o;try{o=JSON.parse(t.data)}catch(e){o=t.data}"notification"===o.event?s(o.data.type,o.data.title,o.data.body,o.data.hash):s("info","",o)}),e.onerror=(()=>{log.warn("Error connecting to websocket. Please check your network connection. If you are using a reverse proxy, please take a look at our wiki for config examples."),s("notice","Error connecting to websocket.","Please check your network connection. If you are using a reverse proxy, please take a look at our wiki for config examples.")})})()},!1)},{"url-parse":3}]},{},[4]);
//# sourceMappingURL=ajax-notifications.js.map
